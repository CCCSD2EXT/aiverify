import React, { useEffect, useState } from "react";
import { DisplayImages } from "./display-samples.mdx";

export const algo_cid = "aiverify_general_corruptions";
import {
  gaussian_general_images,
  poisson_general_images,
  snp_general_images,
} from "./general-corruption-images.js";

export const PoissonSamples = (props) => {
  // Create an array of URLs for the different severity levels (0-5)
  const poissonUrls = [];
  
  // Try to get images from artifacts first
  for (let i = 0; i <= 5; i++) {
    const artifactURL = props.getArtifactURL(
      algo_cid,
      `temp/Poisson_Noise/severity${i}/9.png`,
      null
    );
    
    // If URL exists, add it to the array, otherwise use default images
    if (artifactURL) {
      poissonUrls.push(artifactURL);
    }
  }
  
  // If no artifacts were found, use the default images
  const imagesToUse = poissonUrls.length === 6 ? poissonUrls : poisson_general_images;

  return (
    <DisplayImages
      id={props.id}
      images={imagesToUse}
      data={props.getResults(algo_cid).results}
      corruption_index={1}
      corruption_name="General: Poisson Noise"
    />
  );
}

<PoissonSamples {...props} />
